# 온보딩 사용자 여정 스토리보드

**문서번호**: MPK-UX-SB-ONBOARDING-v1.0
**기준**: 사이트맵 v1.1 (/intro, /auth, /onboarding)
**Phase**: Phase 1
**최종 갱신**: 2026-02-14

---

## 장면 1: 인트로 및 로그인 선택

### 와이어프레임
```
┌─────────────────────────────┐
│                             │
│      (로고 애니메이션)        │
│                             │
│        MANPASIK             │
│   세상의 모든 파동을 읽다      │
│                             │
├─────────────────────────────┤
│      [   이미지 슬라이드  ]   │
│      Testing. Anywhere.     │
│                             │
│ ● ○ ○                       │
├─────────────────────────────┤
│                             │
│ [ 카카오로 3초 만에 시작하기 ] │
│ [ 구글로 계속하기           ] │
│ [ 이메일로 시작하기         ] │
│                             │
│    이미 계정이 있으신가요?    │
│        [로그인]             │
└─────────────────────────────┘
```

### 인터랙션
- **스플래시**: 앱 실행 시 로고 애니메이션 (Lottie) 1.5초 재생 후 페이드아웃.
- **슬라이드**: 서비스 핵심 가치(만능 측정, 건강 관리, 환경 분석) 3컷 자동 롤링.
- **소셜 로그인**: 카카오/구글 SDK 호출 → OAuth 토큰 획득.
- **이메일 시작**: 이메일 입력 폼으로 이동.

### 음성 안내 (TTS)
> "만파식에 오신 것을 환영합니다. 간편하게 시작해보세요."

---

## 장면 2: 약관 동의 및 본인 인증

### 와이어프레임
```
┌─────────────────────────────┐
│  ◀  회원가입                 │
├─────────────────────────────┤
│ 서비스 이용을 위해            │
│ 약관에 동의해주세요             │
│                             │
│ [v] 전체 동의                │
│ ─────────────────────────── │
│ [v] (필수) 서비스 이용약관    │
│ [v] (필수) 개인정보 처리방침  │
│ [v] (필수) 민감정보 처리방침  │
│ [ ] (선택) 마케팅 정보 수신   │
├─────────────────────────────┤
│ 본인 확인이 필요합니다          │
│                             │
│ [     휴대폰 본인인증       ] │
│                             │
│ 🛡️ PASS / 문자 인증 제공     │
└─────────────────────────────┘
```

### 인터랙션
- **전체 동의**: 탭 시 하위 항목 일괄 선택/해제.
- **약관 상세**: 항목 탭 시 모달/웹뷰로 전문 표시.
- **본인 인증**: 다날/KG이니시스 등 본인인증 모듈 호출 (PASS 앱 또는 문자).
- **진행 불가**: 필수 항목 미동의 시 '다음' 버튼 비활성화.

---

## 장면 3: 프로필 설정

### 와이어프레임
```
┌─────────────────────────────┐
│  ◀  프로필 설정              │
├─────────────────────────────┤
│ 사용자님 반가워요!            │
│ 기본 정보를 알려주세요          │
│                             │
│ 닉네임                       │
│ [ 홍길동               ]    │
│                             │
│ 생년월일                     │
│ [ 1990. 01. 01.        ]    │
│                             │
│ 성별                        │
│ [남성] [여성]                │
│                             │
│ 키 / 몸무게 (선택/BMI분석용)  │
│ [ 175 ] cm   [ 70  ] kg     │
├─────────────────────────────┤
│                             │
│ [       가입 완료           ] │
└─────────────────────────────┘
```

### 인터랙션
- **닉네임**: 중복 확인 (입력 완료 시 자동 체크).
- **입력 폼**: 키패드 타입 자동 변경 (숫자/문자).
- **가입 완료**: `AuthService.Register` RPC 호출 → 성공 시 온보딩(권한/페어링)으로 이동.

---

## 장면 4: 최초 리더기 페어링 (온보딩)

### 와이어프레임
```
┌─────────────────────────────┐
│                             │
│  📡 리더기를 찾고 있어요      │
│                             │
│  [ 리더기 이미지 (애니매이션) ] │
│  ((  Searching...  ))       │
│                             │
├─────────────────────────────┤
│ 1. 리더기 전원을 켜주세요      │
│ 2. 파란 불빛이 깜빡이는지 확인  │
│ 3. 휴대폰 가까이 두세요        │
│                             │
│ [ 검색된 기기 목록 ]          │
│  📱 ManPaSik-LE-A102        │
│     [ 연결하기 ]             │
│                             │
│ [나중에 등록하기]             │
└─────────────────────────────┘
```

### 인터랙션
- **자동 검색**: 화면 진입 시 BLE 스캔 시작 (`flutter_blue_plus`).
- **권한 요청**: 블루투스/위치 권한 없을 시 시스템 팝업 호출.
- **연결하기**: 탭 시 `DeviceService.RegisterDevice` 호출, 기기 LED 녹색 점등.
- **펌웨어 체크**: 연결 직후 필수 펌웨어 업데이트 확인.

### 에러 케이스
- **검색 실패**: "기기를 찾을 수 없나요?" 헬프 텍스트 및 재시도 버튼 노출.

---

## 장면 5: 웰컴 및 홈 이동

### 와이어프레임
```
┌─────────────────────────────┐
│                             │
│        환영합니다!           │
│                             │
│   🎉 (컨페티 애니메이션)       │
│                             │
│   모든 준비가 완료되었습니다.   │
│   이제 첫 측정을 시작해보세요.  │
│                             │
│                             │
│ [    만파식 시작하기    ]     │
│                             │
└─────────────────────────────┘
```

### 인터랙션
- **시작하기**: 홈 화면(`/`)으로 라우팅. 로그인 상태(`SecureStorage`) 저장 완료.

---

## 참조
- `docs/ux/sitemap.md` (/intro, /auth, /onboarding)
- `backend/shared/proto/manpasik.proto` AuthService, DeviceService
