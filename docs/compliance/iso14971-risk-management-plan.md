# ISO 14971:2019 위험관리 계획서 (Risk Management Plan)

## ManPaSik (만파식) 차동측정 기반 헬스케어 AI 생태계

**문서 번호**: MPS-RMP-001  
**버전**: 1.0  
**분류**: 기밀 (Confidential)  
**작성일**: 2026-02-10  
**작성자**: Claude (Security & Compliance Agent)  
**승인 상태**: 초안 (Draft) — 검토 필요  

---

## 1. 목적 (Purpose)

본 문서는 ISO 14971:2019 "의료기기 — 위험관리의 의료기기 적용" 요구사항에 따라
ManPaSik 체외진단의료기기(IVD) 시스템의 전 수명주기 위험관리 프로세스를 정의합니다.

### 1.1 적용 범위
- **제품**: ManPaSik 차동측정 리더기 + 카트리지(29종) + 모바일 앱 + 클라우드 시스템
- **의료기기 등급**: Class II (중등도 위험)
- **소프트웨어 안전 등급**: IEC 62304 Class B (중등도 위해 가능)
- **대상 시장**: 한국(MFDS), 미국(FDA), EU(CE-IVDR), 중국(NMPA), 일본(PMDA)

### 1.2 참조 표준
| 표준 | 버전 | 적용 |
|------|------|------|
| ISO 14971 | 2019 (Ed.3) | 위험관리 프로세스 |
| ISO/TR 24971 | 2020 | ISO 14971 적용 지침 |
| IEC 62304 | 2015/Amd.1 | 소프트웨어 수명주기 |
| IEC 62366-1 | 2015/Amd.1 | 사용적합성 |
| ISO 13485 | 2016 | 품질경영시스템 |
| IEC 81001-5-1 | 2021 | 헬스 소프트웨어 보안 |
| ISO 15189 | 2022 | 의료 검사실 요구사항 |

---

## 2. 위험관리 조직 (Organization)

### 2.1 역할 및 책임

| 역할 | 책임 | 현재 담당 |
|------|------|----------|
| **위험관리 책임자 (RMR)** | 위험관리 프로세스 총괄, 잔여 위험 수용 결정 | TBD (CTO 또는 QA 팀장) |
| **위험 분석 팀** | 위해 식별, 위험 추정, 위험 평가 | Claude + 개발팀 |
| **설계 팀** | 위험 통제 구현 | Antigravity, ChatGPT, 개발팀 |
| **검증/확인 팀** | 위험 통제 효과 검증 | QA 팀 |
| **임상 전문가** | 임상적 위해 평가, 이익-위험 분석 | 외부 자문 (TBD) |
| **규제 전문가** | 규제 요구사항 해석, 제출 문서 준비 | RA 담당자 (TBD) |

### 2.2 위험관리 파일 (Risk Management File) 구성

| 문서 번호 | 문서명 | 상태 |
|----------|--------|------|
| MPS-RMP-001 | 위험관리 계획서 (본 문서) | 초안 v1.0 |
| MPS-RA-001 | 위험 분석 보고서 (위해 식별 + 위험 추정) | 작성 예정 |
| MPS-RE-001 | 위험 평가 보고서 (위험 수용 판정) | 작성 예정 |
| MPS-RC-001 | 위험 통제 기록 | 작성 예정 |
| MPS-RRR-001 | 잔여 위험 보고서 | 작성 예정 |
| MPS-RMR-001 | 위험관리 보고서 (최종) | 작성 예정 |
| MPS-FMEA-001 | FMEA (고장 모드 영향 분석) | 작성 예정 |
| MPS-FTA-001 | FTA (결함 트리 분석) | 작성 예정 |
| MPS-PHA-001 | 사전 위해 분석 (PHA) | 작성 예정 |

---

## 3. 위험 수용 기준 (Risk Acceptability Criteria)

### 3.1 심각도 등급 (Severity)

| 등급 | 심각도 | 설명 | 예시 |
|------|--------|------|------|
| S1 | 무시 가능 (Negligible) | 불편이나 일시적 불쾌감 | UI 표시 지연 |
| S2 | 경미 (Minor) | 일시적 건강 영향, 치료 불필요 | 경미한 측정 오차 경고 |
| S3 | 심각 (Serious) | 치료 필요한 건강 영향 | 잘못된 측정값으로 부적절한 자가 관리 |
| S4 | 위독 (Critical) | 영구 손상 또는 생명 위협 | 위험 수준 미감지로 치료 지연 |
| S5 | 치명 (Catastrophic) | 사망 | 해당 없음 (IVD 특성상) |

### 3.2 발생 확률 등급 (Probability)

| 등급 | 확률 | 빈도 |
|------|------|------|
| P1 | 매우 낮음 | < 10⁻⁶ (백만 사용당 1회 미만) |
| P2 | 낮음 | 10⁻⁶ ~ 10⁻⁴ |
| P3 | 보통 | 10⁻⁴ ~ 10⁻² |
| P4 | 높음 | 10⁻² ~ 10⁻¹ |
| P5 | 매우 높음 | > 10⁻¹ |

### 3.3 위험 수용 매트릭스 (5×5)

```
         S1(무시)  S2(경미)  S3(심각)  S4(위독)  S5(치명)
P5(매우높음)  M       H        U        U        U
P4(높음)     L       M        H        U        U
P3(보통)     L       L        M        H        U
P2(낮음)     L       L        L        M        H
P1(매우낮음) L       L        L        L        M
```

| 등급 | 판정 | 조치 |
|------|------|------|
| **U** (Unacceptable) | 수용 불가 | 설계 변경 필수 또는 이익-위험 분석 필요 |
| **H** (High, ALARP) | 조건부 수용 | ALARP 원칙 적용, 위험 감소 조치 필수 |
| **M** (Medium, ALARP) | 조건부 수용 | 가능한 한 위험 감소, 잔여 위험 정당화 |
| **L** (Low) | 수용 가능 | 모니터링 유지 |

### 3.4 ALARP 원칙 (As Low As Reasonably Practicable)

- H/M 등급 위험은 기술적/경제적으로 실행 가능한 범위 내에서 최대한 저감
- 잔여 위험이 의료적 이익(benefit)을 초과하지 않음을 문서화

---

## 4. 위해 식별 방법론 (Hazard Identification)

### 4.1 분석 기법

| 기법 | 적용 대상 | 시기 |
|------|----------|------|
| **PHA** (Preliminary Hazard Analysis) | 시스템 전체 | 설계 초기 |
| **FMEA** (Failure Mode & Effects Analysis) | 하드웨어, 소프트웨어 모듈별 | 상세 설계 |
| **FTA** (Fault Tree Analysis) | 위독/치명 위해 시나리오 | FMEA 후 |
| **HAZOP** | 사용 프로세스 | 사용적합성 설계 |
| **STRIDE** | 사이버보안 위협 | ✅ 완료 (31개 위협 식별) |

### 4.2 위해 카테고리 (ISO 14971 Annex C)

| 카테고리 | 설명 | ManPaSik 적용 |
|----------|------|--------------|
| 에너지 위해 | 전기, 열, 기계적 | BLE RF 에너지, 배터리, USB 충전 |
| 생물학적 위해 | 감염, 독성, 알레르기 | 카트리지 시약 접촉, 교차 오염 |
| 환경적 위해 | 전자파, 온습도 | BLE 간섭, 극한 환경 측정 |
| 사용 오류 | 잘못된 조작 | 카트리지 오삽입, 결과 오독, 보정 무시 |
| 소프트웨어 위해 | 잘못된 계산, 데이터 손실 | 차동측정 오류, AI 오분류, 동기화 실패 |
| 정보 보안 위해 | 데이터 유출, 변조 | PHI 유출, 측정 데이터 변조, 인증 우회 |
| 진단 위해 | 위양성, 위음성 | 잘못된 바이오마커 수치, 잘못된 정상/비정상 분류 |

### 4.3 식별된 주요 위해 시나리오 (예비)

| ID | 위해 | 위해 상황 | 위험 상황 | 예비 심각도 |
|----|------|----------|----------|-----------|
| H-001 | 차동측정 보정 계수(α) 오류 | 카트리지 NFC 읽기 실패로 기본값 사용 | 잘못된 측정값 표시 → 부적절한 자가 관리 | S3 |
| H-002 | 핑거프린트 분류 오류 | AI 모델 오분류 | 카트리지 타입 오인식 → 잘못된 분석 결과 | S3 |
| H-003 | BLE 연결 끊김 | 측정 중 통신 단절 | 불완전한 데이터 → 결과 미표시 | S2 |
| H-004 | 배터리 부족 측정 | 저전압에서 센서 왜곡 | 부정확한 측정값 | S3 |
| H-005 | 카트리지 유효기간 초과 | 만료 카트리지 사용 | 변질된 시약 → 부정확한 결과 | S3 |
| H-006 | 데이터 동기화 충돌 | CRDT 병합 오류 | 측정 기록 손실 또는 중복 | S2 |
| H-007 | PHI 데이터 유출 | 암호화 실패 또는 인증 우회 | 건강 정보 노출 | S3 |
| H-008 | 위험 수준 미알림 | 알림 시스템 장애 | 비정상 수치 미감지 → 치료 지연 | S4 |
| H-009 | 온도 보정 실패 | 환경 센서 고장 | 극한 온도에서 부정확한 측정 | S3 |

---

## 5. 위험 통제 전략 (Risk Control Strategy)

### 5.1 위험 통제 우선순위 (ISO 14971 7.1)

```
1순위: 설계에 의한 본질적 안전성 (Inherently Safe Design)
  └─ 위험 원인 자체를 제거하는 설계 변경
  
2순위: 보호 조치 (Protective Measures)
  └─ 하드웨어/소프트웨어 안전장치, 경보
  
3순위: 정보 제공 (Information for Safety)
  └─ 라벨링, 사용 설명서, 경고, 교육
```

### 5.2 소프트웨어 위험 통제 조치 (계획)

| 위해 ID | 통제 조치 | 구현 위치 | 우선순위 | 검증 방법 |
|---------|----------|----------|---------|----------|
| H-001 | NFC 읽기 3회 재시도 + 실패 시 측정 차단 | Rust nfc 모듈 | 1순위 (설계) | 단위 테스트 + 통합 테스트 |
| H-001 | α 계수 유효범위 검증 (0.0~1.0) | Rust differential 모듈 | 1순위 | 속성 기반 테스트 (proptest) |
| H-002 | AI 분류 confidence 임계값 (≥0.85) 미달 시 경고 | Rust ai 모듈 | 2순위 | 교차 검증 + 임상 데이터 |
| H-003 | BLE 자동 재연결 + 오프라인 버퍼링 | Rust ble 모듈 | 1순위 | 시뮬레이션 테스트 |
| H-004 | 배터리 < 15% 시 측정 차단 + 경고 | Rust lib.rs (StateMeta) | 1순위 | 하드웨어 테스트 |
| H-005 | NFC 유효기간 확인 + 만료 시 측정 차단 | Rust nfc 모듈 | 1순위 | 날짜 경계 테스트 |
| H-006 | CRDT 무결성 검증 + 해시체인 | Rust sync + crypto 모듈 | 2순위 | 병합 시나리오 테스트 |
| H-007 | AES-256-GCM + E2E 암호화 + RBAC | Rust crypto + Go auth | 1순위 | 침투 테스트 |
| H-008 | 이중 알림 (인앱 + Push + SMS) + 독립 모니터링 | Flutter + Go notification | 2순위 | 장애 주입 테스트 |
| H-009 | 환경 센서 자가진단 + 범위 이탈 시 경고 | Rust lib.rs (EnvironmentMeta) | 2순위 | 환경 챔버 테스트 |

### 5.3 통제 효과 검증 방법

| 검증 유형 | 방법 | 기준 |
|----------|------|------|
| **단위 테스트** | Rust `#[cfg(test)]`, Go `_test.go` | 커버리지 ≥ 80% |
| **속성 기반 테스트** | Rust `proptest` | 모든 입력 경계 조건 |
| **통합 테스트** | Docker + Testcontainers | 엔드투엔드 시나리오 |
| **회귀 테스트** | CI/CD 자동화 | 모든 PR에서 실행 |
| **정적 분석** | Rust clippy, Go golangci-lint | 경고 0건 |
| **보안 감사** | SAST/DAST + 침투 테스트 | OWASP Top 10 |
| **임상 검증** | 임상시험 (KR/EU/CN 필수) | 정확도, 정밀도, 상관계수 |

---

## 6. 잔여 위험 평가 프로세스

### 6.1 개별 잔여 위험 평가

각 통제 조치 적용 후:
1. 잔여 위험 수준 재평가 (심각도 × 발생확률)
2. 수용 매트릭스 기준으로 판정
3. L/M 등급만 수용, H/U 등급은 추가 조치 또는 이익-위험 분석

### 6.2 전체 잔여 위험 평가

모든 개별 잔여 위험의 누적 영향을 평가:
- 전체 잔여 위험이 의료적 이익을 초과하지 않는지 확인
- 이익-위험 분석 문서화 (MPS-RRR-001)

### 6.3 이익-위험 분석

**의료적 이익:**
- 가정에서 29종 바이오마커 측정 가능 (병원 방문 절감)
- 연속적 건강 모니터링 (조기 이상 감지)
- 의료 접근성 향상 (원격지, 고령자)
- AI 기반 건강 코칭 (예방 의학)

**분석 기준:**
- 의료적 이익이 잔여 위험을 명확히 초과해야 함
- 대안 기기 대비 위험-이익 비율 우월해야 함

---

## 7. 시판 후 관리 (Post-Market Surveillance)

### 7.1 시판 후 정보 수집

| 정보원 | 방법 | 주기 |
|--------|------|------|
| 부작용 보고 | MFDS/FDA/CE 자발적 보고 | 상시 |
| 고객 불만 | CRM 시스템 | 상시 |
| 서비스 데이터 | 디바이스 텔레메트리 | 실시간 |
| 문헌 조사 | 학술 논문, 규제 동향 | 분기 |
| 경쟁 제품 정보 | FDA MAUDE, MFDS 공시 | 분기 |
| 내부 감사 | QMS 프로세스 감사 | 연간 |

### 7.2 위험관리 파일 갱신 트리거

- 신규 위해 시나리오 식별
- 부작용/고장 보고 접수
- 소프트웨어 업데이트 (신규 기능, 버그 수정)
- AI 모델 업데이트 (PCCP 프로세스)
- 규제 요구사항 변경
- 설계 변경 (ECO)

---

## 8. 위험관리 프로세스 타임라인

```
Phase 1 (MVP, Month 1-4):
  ├── [완료] 사전 위해 분석 (PHA) — STRIDE 기반
  ├── [본 문서] 위험관리 계획서 (RMP) v1.0
  ├── [예정] FMEA 초안 (소프트웨어 + 하드웨어)
  └── [예정] 위험 분석 보고서 초안

Phase 2 (Core, Month 5-8):
  ├── FMEA 완성 + FTA (위독 시나리오)
  ├── 위험 통제 구현 검증
  └── 잔여 위험 보고서 초안

Phase 3 (Advanced, Month 9-14):
  ├── 임상 데이터 반영
  ├── 사용적합성 평가 결과 반영
  └── 위험관리 보고서 초안

Phase 4 (인허가):
  ├── 위험관리 파일 최종화
  ├── 이익-위험 분석 완성
  └── 규제 기관 제출
```

---

## 9. 용어 정의

| 용어 | 정의 |
|------|------|
| 위해 (Hazard) | 건강에 대한 손상의 잠재적 원인 |
| 위험 (Risk) | 위해의 발생 확률과 그 위해의 심각도의 조합 |
| 위해 상황 (Hazardous Situation) | 사람이 위해에 노출되는 상황 |
| 위험 통제 (Risk Control) | 위험을 감소시키기 위해 결정되고 구현된 조치 |
| 잔여 위험 (Residual Risk) | 위험 통제 조치 후 남아있는 위험 |
| ALARP | 합리적으로 실행 가능한 한 낮은 수준 |
| SOUP | 알려진 출처의 소프트웨어 (서드파티 라이브러리) |

---

## 10. 문서 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2026-02-10 | 초안 작성 | Claude |

---

## 11. 부록

### 부록 A: SOUP 목록 (위험 평가 대상)

| SOUP | 버전 | 용도 | 안전 등급 영향 | 위험 평가 |
|------|------|------|-------------|----------|
| Rust std | Ed.2021 | 코어 런타임 | Class B | 높은 성숙도, 메모리 안전성 |
| aes-gcm | 0.10 | AES-256-GCM 암호화 | Class B | RustCrypto 감사 완료 |
| sha2 | 0.10 | SHA-256 해시 | Class B | RustCrypto 감사 완료 |
| ring | 0.17 | HMAC, HKDF | Class B | Google 유지보수, 광범위 사용 |
| rustfft | 6.2 | FFT 신호 처리 | Class B | 산술 정확도 검증 필요 |
| tflitec | 0.5 | TFLite 추론 | Class B | Google TFLite 기반 |
| btleplug | 0.11 | BLE 통신 | Class B | 안정적, 크로스플랫폼 |
| tokio | 1.36 | 비동기 런타임 | Class A | 높은 성숙도 |
| serde | 1.0 | 직렬화 | Class A | 사실상 표준 |
| Go std | 1.22 | 백엔드 런타임 | Class B | Google 유지보수 |
| pgx | 5.5 | PostgreSQL 드라이버 | Class B | SQL Injection 방지 |
| grpc-go | 1.62 | gRPC 통신 | Class B | Google 유지보수 |

### 부록 B: 관련 문서 참조

- `docs/compliance/software-safety-classification.md` — IEC 62304 소프트웨어 안전 등급
- `docs/compliance/regulatory-compliance-checklist.md` — 5개국 규제 체크리스트
- `docs/security/stride-threat-model.md` — STRIDE 위협 모델링
- `docs/compliance/data-protection-policy.md` — 데이터 보호 정책
- `docs/compliance/technical-file-structure.md` — 기술문서 목차
- `docs/ai-specs/claude/ml-model-design-spec.md` — AI/ML 모델 설계

---

*본 문서는 ISO 14971:2019의 4.2절 "위험관리 계획" 요구사항을 충족하며,*
*제품 수명주기 전반에 걸쳐 갱신됩니다.*
