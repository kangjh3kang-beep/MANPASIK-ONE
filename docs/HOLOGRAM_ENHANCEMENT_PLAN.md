# 초고해상도 남/녀 인체 홀로그램 고도화 계획 (Gemini NanoBanana Pro)

## 1. 레퍼런스 이미지 분석 및 목표
사용자가 제공한 레퍼런스 이미지는 단순한 파티클 클라우드가 아닌, **볼륨감이 느껴지는 가로 스캔 라인(Horizontal Scan-lines)**과 **와이어프레임(Wireframe)**이 결합된 형태입니다.

*   **시각적 특징**:
    *   **Volume via Lines**: 신체의 굴곡이 가로 선들의 밀도와 밝기로 표현됨.
    *   **Distinct Gender**: 남성(역삼각형 상체, 근육질)과 여성(곡선형 체형, 골반 강조)의 구분이 명확함.
    *   **Medical HUD**: 신체 특정 부위(심장, 뇌, 장기)와 데이터 패널이 연결됨.

## 2. 구현 전략 (NanoBanana Pro Engine)

### 2.1. 듀얼 바디 모델링 (Gender Morphing)
단일 모델이 아닌, 남성과 여성의 해부학적 특징이 반영된 두 개의 좌표 생성 로직을 분리 구현합니다.

| 특징 | 남성 모델 (Male) | 여성 모델 (Female) |
| :--- | :--- | :--- |
| **어깨 (Shoulder)** | 넓고 각진 형태 (W * 0.55) | 좁고 둥근 형태 (W * 0.42) |
| **흉곽 (Chest)** | 평평하고 넓음 | 곡선형, 흉부 볼륨 강조 |
| **허리 (Waist)** | 통자형, 굵음 | 얇고 들어간 형태 (개미허리) |
| **골반 (Hip)** | 좁음 (어깨보다 좁음) | 넓고 둥금 (어깨와 비슷하거나 넓음) |
| **근육 (Muscle)** | 대흉근, 복근, 대퇴근 강조 | 매끄러운 곡선 강조 |

### 2.2. 렌더링 엔진 업그레이드 (Scanline & Wireframe)
기존의 점(Point) 방식에서 **선(Line) 기반 볼륨 렌더링**으로 변경하여 레퍼런스와 동일한 퀄리티를 냅니다.

*   **Horizontal Striation Shader**:
    *   Y축을 촘촘한 간격(예: 100~150개 층)으로 나누고, 각 층마다 신체 단면의 너비를 계산하여 가로선을 그립니다.
    *   신체 외각일수록 밝게 처리(Fresnel Effect)하여 입체감을 줍니다.
*   **Active Wireframe**:
    *   선택된 부위(예: 심장)나 이상이 있는 부위는 파란색 라인이 아닌 **경고색(Red/Amber)** 와이어프레임으로 오버레이합니다.

### 2.3. 인터랙션 및 HUD
*   **Gender Toggle**: 화면 상단이나 제스처로 남/녀 모델 전환 기능 추가.
*   **Connectors**: 바이오 센서 노드가 신체 해당 부위(머리, 심장 등)로 직접 라인을 뻗어 연결.

## 3. 실행 로드맵

### Phase 1: 아키텍처 분리
*   `HoloBody` 위젯에 `Gender` 속성 추가.
*   `_BodyGenerator` 클래스를 신설하여 남/녀별 포인트/라인 데이터 생성 로직 분리.

### Phase 2: 스캔라인 렌더러 구현 (Core)
*   `CustomPainter`를 수정하여 `drawPoints` 대신 `drawLine`(가로 스캔 질감) 위주로 변경.
*   레퍼런스 이미지의 "푸른색 네온 + 내부 장기 하이라이트" 스타일 적용.

### Phase 3: 세부 튜닝
*   남성의 근육질 굴곡과 여성의 곡선미를 위한 베지어 곡선 파라미터 미세 조정.
*   심장 박동 등 생체 애니메이션 재연결.

---
**작성일**: 2026-02-19
**Tech Stack**: Flutter CustomPaint, Math(Trigonometry), Bezier Curves
